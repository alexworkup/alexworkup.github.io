(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1851],{67776:function(t,e,i){"use strict";i.d(e,{G:function(){return u}});var n=i(12818),r=i(3589),o=i(75358),s=new n.Registry({id:(0,r.l)()});s.set("Tail",o.X);var u=(0,n.withRegistry)(s)(r.G)},88999:function(t,e,i){var n=i(79405).has;t.exports=function(t){return n(t),t}},738:function(t,e,i){var n=i(19662),r=i(19670),o=i(46916),s=i(19303),u=TypeError,a=Math.max,c=function(t,e,i,n){this.set=t,this.size=e,this.has=i,this.keys=n};c.prototype={getIterator:function(){return r(o(this.keys,this.set))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){r(t);var e=+t.size;if(e!=e)throw u("Invalid size");return new c(t,a(s(e),0),n(t.has),n(t.keys))}},25615:function(t,e,i){var n=i(70648),r=i(92597),o=i(68554),s=i(5112),u=i(97497),a=s("iterator"),c=Object;t.exports=function(t){if(o(t))return!1;var e=c(t);return void 0!==e[a]||"@@iterator"in e||r(u,n(e))}},26283:function(t,e,i){var n=i(79405),r=i(87758),o=n.Set,s=n.add;t.exports=function(t){var e=new o;return r(t,(function(t){s(e,t)})),e}},37075:function(t,e,i){"use strict";var n=i(88999),r=i(79405),o=i(26283),s=i(1043),u=i(738),a=i(87758),c=i(6333),h=r.has,p=r.remove;t.exports=function(t){var e=n(this),i=u(t),r=o(e);return s(e)<=i.size?a(e,(function(t){i.includes(t)&&p(r,t)})):c(i.getIterator(),(function(t){h(e,t)&&p(r,t)})),r}},79405:function(t,e,i){var n=i(1702),r=Set.prototype;t.exports={Set:Set,add:n(r.add),has:n(r.has),remove:n(r.delete),proto:r}},81920:function(t,e,i){"use strict";var n=i(88999),r=i(79405),o=i(1043),s=i(738),u=i(87758),a=i(6333),c=r.Set,h=r.add,p=r.has;t.exports=function(t){var e=n(this),i=s(t),r=new c;return o(e)>i.size?a(i.getIterator(),(function(t){p(e,t)&&h(r,t)})):u(e,(function(t){i.includes(t)&&h(r,t)})),r}},78239:function(t,e,i){"use strict";var n=i(88999),r=i(79405).has,o=i(1043),s=i(738),u=i(87758),a=i(6333),c=i(99212);t.exports=function(t){var e=n(this),i=s(t);if(o(e)<=i.size)return!1!==u(e,(function(t){if(i.includes(t))return!1}),!0);var h=i.getIterator();return!1!==a(h,(function(t){if(r(e,t))return c(h,"normal",!1)}))}},49180:function(t,e,i){"use strict";var n=i(88999),r=i(1043),o=i(87758),s=i(738);t.exports=function(t){var e=n(this),i=s(t);return!(r(e)>i.size)&&!1!==o(e,(function(t){if(!i.includes(t))return!1}),!0)}},10107:function(t,e,i){"use strict";var n=i(88999),r=i(79405).has,o=i(1043),s=i(738),u=i(6333),a=i(99212);t.exports=function(t){var e=n(this),i=s(t);if(o(e)<i.size)return!1;var c=i.getIterator();return!1!==u(c,(function(t){if(!r(e,t))return a(c,"normal",!1)}))}},87758:function(t,e,i){var n=i(1702),r=i(6333),o=i(79405),s=o.Set,u=o.proto,a=n(u.forEach),c=n(u.keys),h=c(new s).next;t.exports=function(t,e,i){return i?r(c(t),e,h):a(t,e)}},1043:function(t,e,i){var n=i(75668),r=i(79405);t.exports=n(r.proto,"size","get")||function(t){return t.size}},98506:function(t,e,i){"use strict";var n=i(88999),r=i(79405),o=i(26283),s=i(738),u=i(6333),a=r.add,c=r.has,h=r.remove;t.exports=function(t){var e=n(this),i=s(t).getIterator(),r=o(e);return u(i,(function(t){c(e,t)?h(r,t):a(r,t)})),r}},39391:function(t,e,i){"use strict";var n=i(88999),r=i(79405).add,o=i(26283),s=i(738),u=i(6333);t.exports=function(t){var e=n(this),i=s(t).getIterator(),a=o(e);return u(i,(function(t){r(a,t)})),a}},45965:function(t,e,i){var n=i(35005),r=i(60614),o=i(25615),s=i(70111),u=n("Set");t.exports=function(t){return function(t){return s(t)&&"number"==typeof t.size&&r(t.has)&&r(t.keys)}(t)?t:o(t)?new u(t):t}},37227:function(t,e,i){"use strict";i(77710)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i(95631))},70189:function(t,e,i){i(37227)},4723:function(t,e,i){"use strict";var n=i(46916),r=i(27007),o=i(19670),s=i(68554),u=i(17466),a=i(41340),c=i(84488),h=i(58173),p=i(31530),f=i(97651);r("match",(function(t,e,i){return[function(e){var i=c(this),r=s(e)?void 0:h(e,t);return r?n(r,e,i):new RegExp(e)[t](a(i))},function(t){var n=o(this),r=a(t),s=i(e,n,r);if(s.done)return s.value;if(!n.global)return f(n,r);var c=n.unicode;n.lastIndex=0;for(var h,l=[],g=0;null!==(h=f(n,r));){var d=a(h[0]);l[g]=d,""===d&&(n.lastIndex=p(r,u(n.lastIndex),c)),g++}return 0===g?null:l}]}))},88921:function(t,e,i){"use strict";var n=i(82109),r=i(88999),o=i(79405).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=r(this),e=0,i=arguments.length;e<i;e++)o(t,arguments[e]);return t}})},96248:function(t,e,i){"use strict";var n=i(82109),r=i(88999),o=i(79405).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=r(this),i=!0,n=0,s=arguments.length;n<s;n++)t=o(e,arguments[n]),i=i&&t;return!!i}})},13599:function(t,e,i){"use strict";var n=i(82109),r=i(46916),o=i(45965),s=i(37075);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return r(s,this,o(t))}})},11477:function(t,e,i){"use strict";var n=i(82109),r=i(49974),o=i(88999),s=i(87758);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=o(this),i=r(t,arguments.length>1?arguments[1]:void 0);return!1!==s(e,(function(t){if(!i(t,t,e))return!1}),!0)}})},64362:function(t,e,i){"use strict";var n=i(82109),r=i(49974),o=i(88999),s=i(79405),u=i(87758),a=s.Set,c=s.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=o(this),i=r(t,arguments.length>1?arguments[1]:void 0),n=new a;return u(e,(function(t){i(t,t,e)&&c(n,t)})),n}})},15389:function(t,e,i){"use strict";var n=i(82109),r=i(49974),o=i(88999),s=i(87758);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=o(this),i=r(t,arguments.length>1?arguments[1]:void 0),n=s(e,(function(t){if(i(t,t,e))return{value:t}}),!0);return n&&n.value}})},90401:function(t,e,i){"use strict";var n=i(82109),r=i(46916),o=i(45965),s=i(81920);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return r(s,this,o(t))}})},45164:function(t,e,i){"use strict";var n=i(82109),r=i(46916),o=i(45965),s=i(78239);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return r(s,this,o(t))}})},91238:function(t,e,i){"use strict";var n=i(82109),r=i(46916),o=i(45965),s=i(49180);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return r(s,this,o(t))}})},54837:function(t,e,i){"use strict";var n=i(82109),r=i(46916),o=i(45965),s=i(10107);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return r(s,this,o(t))}})},87485:function(t,e,i){"use strict";var n=i(82109),r=i(1702),o=i(88999),s=i(87758),u=i(41340),a=r([].join),c=r([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=o(this),i=void 0===t?",":u(t),n=[];return s(e,(function(t){c(n,t)})),a(n,i)}})},56767:function(t,e,i){"use strict";var n=i(82109),r=i(49974),o=i(88999),s=i(79405),u=i(87758),a=s.Set,c=s.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=o(this),i=r(t,arguments.length>1?arguments[1]:void 0),n=new a;return u(e,(function(t){c(n,i(t,t,e))})),n}})},76651:function(t,e,i){"use strict";var n=i(82109),r=i(19662),o=i(88999),s=i(87758),u=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=o(this),i=arguments.length<2,n=i?void 0:arguments[1];if(r(t),s(e,(function(r){i?(i=!1,n=r):n=t(n,r,r,e)})),i)throw u("Reduce of empty set with no initial value");return n}})},61437:function(t,e,i){"use strict";var n=i(82109),r=i(49974),o=i(88999),s=i(87758);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=o(this),i=r(t,arguments.length>1?arguments[1]:void 0);return!0===s(e,(function(t){if(i(t,t,e))return!0}),!0)}})},35285:function(t,e,i){"use strict";var n=i(82109),r=i(46916),o=i(45965),s=i(98506);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return r(s,this,o(t))}})},39865:function(t,e,i){"use strict";var n=i(82109),r=i(46916),o=i(45965),s=i(39391);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return r(s,this,o(t))}})},78233:function(t,e,i){var n=i(34155);t.exports=function(){"use strict";var t=void 0;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t||void 0===n||"node"!==n.title||(t=setImmediate);var e=t=t||function(t){window.setTimeout(t,1e3/60)},i=Array.prototype.concat,r=Array.prototype.slice;function o(t){return e(t)}function s(t,e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}var u={};function a(t){if(u[t])return u[t];var e=t.replace("#","");3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var i=e.match(/.{2}/g);if(!i||i.length<3)throw new Error("Expected a color string of format #rrggbb");var n={r:parseInt(i[0],16),g:parseInt(i[1],16),b:parseInt(i[2],16)};return u[t]=n,n}function c(t,e,i){var n=t.toString(16),r=e.toString(16),o=i.toString(16);return"#"+(n=n.length<2?"0"+n:n)+(r=r.length<2?"0"+r:r)+(o.length<2?"0"+o:o)}var h=Object.freeze({bind:function(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];return function(){for(var n=arguments.length,s=Array(n),u=0;u<n;u++)s[u]=arguments[u];t.apply(e,i.call(o,r.call(s)))}},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},onFrame:o,removeFirst:s,hexToRGB:a,rgbToHex:c});function p(t,e,i,n,r){return n+(t-e)/(i-e)*(r-n)}var f=Object.freeze({mapValueInRange:p,interpolateColor:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments[5],s=a(e),u=a(i),h=Math.floor(p(t,n,r,s.r,u.r)),f=Math.floor(p(t,n,r,s.g,u.g)),l=Math.floor(p(t,n,r,s.b,u.b));return o?"rgb("+h+","+f+","+l+")":c(h,f,l)},degreesToRadians:function(t){return t*Math.PI/180},radiansToDegrees:function(t){return 180*t/Math.PI}});function l(t){return 3.62*(t-30)+194}function g(t){return 3*(t-8)+25}var d=Object.freeze({tensionFromOrigamiValue:l,origamiValueFromTension:function(t){return(t-194)/3.62+30},frictionFromOrigamiValue:g,origamiFromFriction:function(t){return(t-25)/3+8}}),v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},S=function(){function t(){v(this,t),this.springSystem=null}return t.prototype.run=function(){var t=E.call(this);o((function(){t.loop(Date.now())}))},t}(),y=function(){function t(e){v(this,t),this.springSystem=null,this.time=0,this.running=!1,this.timestep=e||16.667}return t.prototype.run=function(){var t=E.call(this);if(!this.running){for(this.running=!0;!t.getIsIdle();)t.loop(this.time+=this.timestep);this.running=!1}},t}(),m=function(){function t(){v(this,t),this.springSystem=null,this.time=0,this.running=!1}return t.prototype.run=function(){},t.prototype.step=function(t){E.call(this).loop(this.time+=t)},t}();function E(){if(null==this.springSystem)throw new Error("cannot run looper without a springSystem");return this.springSystem}var I=Object.freeze({AnimationLooper:S,SimulationLooper:y,SteppingSimulationLooper:m}),A=function(){function t(e,i){v(this,t),this.bounciness=e,this.speed=i;var n=this.normalize(e/1.7,0,20);n=this.projectNormal(n,0,.8);var r=this.normalize(i/1.7,0,20);this.bouncyTension=this.projectNormal(r,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(n,this.b3Nobounce(this.bouncyTension),.01)}return t.prototype.normalize=function(t,e,i){return(t-e)/(i-e)},t.prototype.projectNormal=function(t,e,i){return e+t*(i-e)},t.prototype.linearInterpolation=function(t,e,i){return t*i+(1-t)*e},t.prototype.quadraticOutInterpolation=function(t,e,i){return this.linearInterpolation(2*t-t*t,e,i)},t.prototype.b3Friction1=function(t){return 7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28},t.prototype.b3Friction2=function(t){return 44e-6*Math.pow(t,3)-.006*Math.pow(t,2)+.36*t+2},t.prototype.b3Friction3=function(t){return 45e-8*Math.pow(t,3)-332e-6*Math.pow(t,2)+.1078*t+5.84},t.prototype.b3Nobounce=function(t){return t<=18?this.b3Friction1(t):t>18&&t<=44?this.b3Friction2(t):this.b3Friction3(t)},t}(),T=function(){function t(e,i){v(this,t),this.tension=e,this.friction=i}return t.fromOrigamiTensionAndFriction=function(e,i){return new t(l(e),g(i))},t.fromBouncinessAndSpeed=function(e,i){var n=new A(e,i);return t.fromOrigamiTensionAndFriction(n.bouncyTension,n.bouncyFriction)},t.coastingConfigWithOrigamiFriction=function(e){return new t(0,g(e))},t}();T.DEFAULT_ORIGAMI_SPRING_CONFIG=T.fromOrigamiTensionAndFriction(40,7);var R=function t(){v(this,t),this.position=0,this.velocity=0},w=function(){function t(e){v(this,t),this.listeners=[],this._startValue=0,this._currentState=new R,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new R,this._restSpeedThreshold=.001,this._tempState=new R,this._timeAccumulator=0,this._wasAtRest=!0,this._id="s"+t._ID++,this._springSystem=e}return t.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},t.prototype.getId=function(){return this._id},t.prototype.setSpringConfig=function(t){return this._springConfig=t,this},t.prototype.getSpringConfig=function(){return this._springConfig},t.prototype.setCurrentValue=function(t,e){return this._startValue=t,this._currentState.position=t,e||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},t.prototype.getStartValue=function(){return this._startValue},t.prototype.getCurrentValue=function(){return this._currentState.position},t.prototype.getCurrentDisplacementDistance=function(){return this.getDisplacementDistanceForState(this._currentState)},t.prototype.getDisplacementDistanceForState=function(t){return Math.abs(this._endValue-t.position)},t.prototype.setEndValue=function(t){if(this._endValue===t&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=t,this._springSystem.activateSpring(this.getId());for(var e=0,i=this.listeners.length;e<i;e++){var n=this.listeners[e].onSpringEndStateChange;n&&n(this)}return this},t.prototype.getEndValue=function(){return this._endValue},t.prototype.setVelocity=function(t){return t===this._currentState.velocity||(this._currentState.velocity=t,this._springSystem.activateSpring(this.getId())),this},t.prototype.getVelocity=function(){return this._currentState.velocity},t.prototype.setRestSpeedThreshold=function(t){return this._restSpeedThreshold=t,this},t.prototype.getRestSpeedThreshold=function(){return this._restSpeedThreshold},t.prototype.setRestDisplacementThreshold=function(t){this._displacementFromRestThreshold=t},t.prototype.getRestDisplacementThreshold=function(){return this._displacementFromRestThreshold},t.prototype.setOvershootClampingEnabled=function(t){return this._overshootClampingEnabled=t,this},t.prototype.isOvershootClampingEnabled=function(){return this._overshootClampingEnabled},t.prototype.isOvershooting=function(){var t=this._startValue,e=this._endValue;return this._springConfig.tension>0&&(t<e&&this.getCurrentValue()>e||t>e&&this.getCurrentValue()<e)},t.prototype.advance=function(e,i){var n=this.isAtRest();if(!n||!this._wasAtRest){var r=i;i>t.MAX_DELTA_TIME_SEC&&(r=t.MAX_DELTA_TIME_SEC),this._timeAccumulator+=r;for(var o=this._springConfig.tension,s=this._springConfig.friction,u=this._currentState.position,a=this._currentState.velocity,c=this._tempState.position,h=this._tempState.velocity,p=void 0,f=void 0,l=void 0,g=void 0,d=void 0,v=void 0,_=void 0,S=void 0;this._timeAccumulator>=t.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=t.SOLVER_TIMESTEP_SEC,this._timeAccumulator<t.SOLVER_TIMESTEP_SEC&&(this._previousState.position=u,this._previousState.velocity=a),p=a,f=o*(this._endValue-c)-s*a,c=u+p*t.SOLVER_TIMESTEP_SEC*.5,l=h=a+f*t.SOLVER_TIMESTEP_SEC*.5,g=o*(this._endValue-c)-s*h,c=u+l*t.SOLVER_TIMESTEP_SEC*.5,d=h=a+g*t.SOLVER_TIMESTEP_SEC*.5,v=o*(this._endValue-c)-s*h,c=u+d*t.SOLVER_TIMESTEP_SEC,_=h=a+v*t.SOLVER_TIMESTEP_SEC,S=1/6*(f+2*(g+v)+(o*(this._endValue-c)-s*h)),u+=1/6*(p+2*(l+d)+_)*t.SOLVER_TIMESTEP_SEC,a+=S*t.SOLVER_TIMESTEP_SEC;this._tempState.position=c,this._tempState.velocity=h,this._currentState.position=u,this._currentState.velocity=a,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/t.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),n=!0);var y=!1;this._wasAtRest&&(this._wasAtRest=!1,y=!0);var m=!1;n&&(this._wasAtRest=!0,m=!0),this.notifyPositionUpdated(y,m)}},t.prototype.notifyPositionUpdated=function(t,e){for(var i=0,n=this.listeners.length;i<n;i++){var r=this.listeners[i];t&&r.onSpringActivate&&r.onSpringActivate(this),r.onSpringUpdate&&r.onSpringUpdate(this),e&&r.onSpringAtRest&&r.onSpringAtRest(this)}},t.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},t.prototype.wasAtRest=function(){return this._wasAtRest},t.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},t.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},t.prototype._interpolate=function(t){this._currentState.position=this._currentState.position*t+this._previousState.position*(1-t),this._currentState.velocity=this._currentState.velocity*t+this._previousState.velocity*(1-t)},t.prototype.getListeners=function(){return this.listeners},t.prototype.addListener=function(t){return this.listeners.push(t),this},t.prototype.removeListener=function(t){return s(this.listeners,t),this},t.prototype.removeAllListeners=function(){return this.listeners=[],this},t.prototype.currentValueIsApproximately=function(t){return Math.abs(this.getCurrentValue()-t)<=this.getRestDisplacementThreshold()},t}();w._ID=0,w.MAX_DELTA_TIME_SEC=.064,w.SOLVER_TIMESTEP_SEC=.001;var C=function(){function t(e){v(this,t),this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={},this.looper=e||new S,this.looper.springSystem=this}return t.prototype.setLooper=function(t){this.looper=t,t.springSystem=this},t.prototype.createSpring=function(t,e){var i;return i=void 0===t||void 0===e?T.DEFAULT_ORIGAMI_SPRING_CONFIG:T.fromOrigamiTensionAndFriction(t,e),this.createSpringWithConfig(i)},t.prototype.createSpringWithBouncinessAndSpeed=function(t,e){var i;return i=void 0===t||void 0===e?T.DEFAULT_ORIGAMI_SPRING_CONFIG:T.fromBouncinessAndSpeed(t,e),this.createSpringWithConfig(i)},t.prototype.createSpringWithConfig=function(t){var e=new w(this);return this.registerSpring(e),e.setSpringConfig(t),e},t.prototype.getIsIdle=function(){return this._isIdle},t.prototype.getSpringById=function(t){return this._springRegistry[t]},t.prototype.getAllSprings=function(){var t=[];for(var e in this._springRegistry)this._springRegistry.hasOwnProperty(e)&&t.push(this._springRegistry[e]);return t},t.prototype.registerSpring=function(t){this._springRegistry[t.getId()]=t},t.prototype.deregisterSpring=function(t){s(this._activeSprings,t),delete this._springRegistry[t.getId()]},t.prototype.advance=function(t,e){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var i=0,n=this._activeSprings.length;i<n;i++){var r=this._activeSprings[i];r.systemShouldAdvance()?r.advance(t/1e3,e/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(r))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},t.prototype.loop=function(t){var e=void 0;-1===this._lastTimeMillis&&(this._lastTimeMillis=t-1);var i=t-this._lastTimeMillis;this._lastTimeMillis=t;var n=0,r=this.listeners.length;for(n=0;n<r;n++)(e=this.listeners[n]).onBeforeIntegrate&&e.onBeforeIntegrate(this);for(this.advance(t,i),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),n=0;n<r;n++)(e=this.listeners[n]).onAfterIntegrate&&e.onAfterIntegrate(this);this._isIdle||this.looper.run()},t.prototype.activateSpring=function(t){var e=this._springRegistry[t];-1===this._activeSprings.indexOf(e)&&this._activeSprings.push(e),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},t.prototype.addListener=function(t){this.listeners.push(t)},t.prototype.removeListener=function(t){s(this.listeners,t)},t.prototype.removeAllListeners=function(){this.listeners=[]},t}();return _({},I,{OrigamiValueConverter:d,MathUtil:f,Spring:w,SpringConfig:T,SpringSystem:C,util:_({},h,f)})}()}}]);