/*! For license information please see 2687.bb7b55550fe961c87bee.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2687,8738],{91410:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.cnLink=void 0;var r=n(97582),o=n(87363),i=n(81504);n(6751),t.cnLink=i.cn("Link"),t.Link=function(e){var n=e.as,i=e.children,a=e.controlRef,c=e.disabled,s=e.innerRef,u=e.role,l=(e.pseudo,e.view,r.__rest(e,["as","children","controlRef","disabled","innerRef","role","pseudo","view"])),d=n||(l.href?"a":"span"),f=l.rel;return"_blank"===l.target&&void 0!==f&&-1===f.indexOf("noopener")&&(f+=" noopener"),o.createElement(d,Object.assign(l,{"aria-disabled":c,className:t.cnLink(null,[l.className]),ref:s||a,rel:f,role:u,tabIndex:c?-1:l.tabIndex}),i)},t.Link.displayName=t.cnLink()},44264:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(87756),o=n(68861),i=(n(5257),(0,r.withBemMod)((0,o.b)(),{size:"m"}))},46513:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(87756),o=n(68861),i=(n(90302),(0,r.withBemMod)((0,o.b)(),{view:"clear"}));n(79438)},25297:function(e,t,n){"use strict";n.d(t,{D_:function(){return r},G8:function(){return o},NG:function(){return a},QQ:function(){return u},f2:function(){return i},gB:function(){return c},pj:function(){return s}});var r=(0,n(81504).cn)("Drawer"),o=r("Overlay"),i=r("Content"),a=r("Title"),c=r("Handle"),s=r("Curtain"),u=r("DragObserver")},13158:function(e,t,n){"use strict";n.d(t,{d:function(){return y}});var r=n(12818),o=n(97582),i=n(87363),a=n.n(i),c=n(95611),s=n(78233),u=n(50394),l=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},d=function(){},f=n(25297),v=function(e){var t,n,r,c,s,u=e.dragDisabled,l=e.visible,v=e.onClose,p=void 0===v?d:v,m=e.springValue,h=e.direction,g=void 0===h?"bottom":h,y=e.maxSize,w=e.titleComponent,b=e.children,E=e.setSpringDisabled,C=e.setProgress,S=(0,i.useRef)(null),x="bottom"===g?"y":"x",k="left"===g?-1:1,_=Math.max(m,0),D="x"===x?"translate3d("+100*(1-m)*k+"%,0,0)":"translate3d(0,"+100*(1-m)*k+"%,0)",P=(0,i.useMemo)((function(){var e;return(0,o.__assign)({transform:D},y&&((e={})["x"===x?"maxWidth":"maxHeight"]=y,e))}),[D,y,x]),R=(t=function(e){if(l&&S.current){var t=e.velocity,n=t.x,r=t.y,o=e.movement,i=o.x,a=o.y,c=e.first,s=e.last,d=e.data,f=e.event,v="x"===x?S.current.clientWidth:S.current.clientHeight,m=k*("x"===x?i:a),h=k*("x"===x?n:r);if(c?(d.isTargetUnderContent=S.current.contains(f.target),d.initialScrollPosition=S.current.scrollTop,d.isScrolled=0!==d.initialScrollPosition):d.isScrolled=d.isScrolled||d.initialScrollPosition-S.current.scrollTop<0,f.cancelable&&"touchmove"===f.type&&(d.isTargetUnderContent?(S.current.scrollTop<=0&&a>0&&f.preventDefault(),S.current.scrollHeight-S.current.scrollTop<=S.current.clientHeight&&a<0&&f.preventDefault()):f.preventDefault()),!(u||d.isTargetUnderContent&&d.isScrolled)){if(s)return E(!1),Math.abs(h)>=.1?h>0?p():C(1):m/v>=.3?p():C(1);if(m>0){E(!0);var g=Math.max(0,1-m/v);return 0===g?p():C(g)}}}},n=(0,i.useRef)(),r=(0,i.useRef)(),c=(0,i.useRef)(),s=(0,i.useCallback)((function(e){var t=c.current||d,o=r.current,i=Array.from(e.changedTouches).find((function(e){return e.identifier===n.current}));o||"touchstart"!==e.type||1!==e.changedTouches.length||(i=e.changedTouches[0],n.current=i.identifier,r.current=o={first:!0,last:!1,startTime:e.timeStamp,initialPosition:{x:i.clientX,y:i.clientY},data:{}}),o&&i&&(o.event=e,"touchmove"===e.type&&(o.first=!1,o.previousPosition=o.currentPosition),"touchstart"!==e.type&&"touchmove"!==e.type||(o.currentPosition={x:i.clientX,y:i.clientY},o.movement={x:o.currentPosition.x-o.initialPosition.x,y:o.currentPosition.y-o.initialPosition.y},o.delta={x:o.currentPosition.x-(o.previousPosition||o.initialPosition).x,y:o.currentPosition.y-(o.previousPosition||o.initialPosition).y},o.velocity={x:o.delta.x/(e.timeStamp-o.startTime-o.elapsedTime)||0,y:o.delta.y/(e.timeStamp-o.startTime-o.elapsedTime)||0},o.elapsedTime=e.timeStamp-o.startTime),"touchend"!==e.type&&"touchcancel"!==e.type||(o.first=!1,o.last=!0,r.current=void 0,n.current=void 0),t(o))}),[c]),c.current=t,{dragProps:{onTouchStart:s,onTouchMove:s,onTouchEnd:s,onTouchCancel:s}}).dragProps;return a().createElement("div",(0,o.__assign)({className:f.QQ},R),a().createElement("div",{className:f.G8,style:{opacity:_},onClick:function(){return p()}}),a().createElement("div",{className:f.pj,style:P},a().createElement("div",{className:f.gB,style:{opacity:_}}),w&&a().createElement("div",{className:f.NG},w),a().createElement("div",{className:f.f2,ref:S},b)))},p={dragImmediate:!1,disabled:!1,tension:230,friction:24},m=function(e){var t=(0,r.useComponentRegistry)((0,f.D_)()).Popup,n=e.className,d=e.visible,m=e.nested,h=e.direction,g=void 0===h?"bottom":h,y=e.innerRef,w=e.animation,b=void 0===w?p:w,E=(0,o.__read)((0,i.useState)(0),2),C=E[0],S=E[1],x=(0,o.__read)((0,i.useState)(!1),2),k=x[0],_=x[1],D=b.dragImmediate&&k||b.disabled,P=function(e,t,n,r){var a=(0,o.__read)((0,i.useState)(null),2),c=a[0],u=a[1],l=(0,o.__read)((0,i.useState)(e),2),d=l[0],f=l[1],v=(0,i.useMemo)((function(){return{onSpringUpdate:function(e){var t=e.getCurrentValue();f(t)}}}),[]),p=(0,i.useCallback)((function(){c&&(c.removeListener(v),u(null))}),[c,v]);return(0,i.useEffect)((function(){if(r)p();else if(!c){var o=(new s.SpringSystem).createSpring(t,n);o.setCurrentValue(e),u(o),f(e),o.addListener(v)}return p}),[t,n,r,c,v,p]),(0,i.useEffect)((function(){c&&c.setEndValue(e)}),[c,e]),r?e:d}(C,b.tension,b.friction,D),R=P>0,L=function(){var e=(0,o.__read)((0,i.useState)((0,u.N)()?l():void 0),2),t=e[0],n=e[1],r=(0,i.useCallback)((function(){return n(l())}),[]);return(0,i.useLayoutEffect)((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[r]),t}(),M=(0,i.useMemo)((function(){return{height:L&&L+"px"}}),[L]);return(0,c.t)({enabled:R}),(0,i.useEffect)((function(){_(!1),S(d?1:0)}),[d,b]),a().createElement(t,{className:(0,f.D_)({visible:R,direction:g,nested:m},[n]),visible:R,innerRef:y,style:M,keepMounted:e.keepMounted,zIndex:e.zIndex,scope:e.scope},a().createElement(v,(0,o.__assign)({},e,{springValue:P,setProgress:S,setSpringDisabled:_})))};m.displayName=(0,f.D_)();var h=n(67776),g=new r.Registry({id:(0,f.D_)()});g.set("Popup",h.G);var y=(0,r.withRegistry)(g)(m)},27964:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r=n(87756),o=n(25297),i=(0,r.withBemMod)((0,o.D_)(),{view:"default"})},39278:function(e,t,n){"use strict";n.d(t,{e:function(){return a},r:function(){return c}});var r=n(97582),o=n(87363),i=n(81504),a=(n(82615),(0,i.cn)("Link")),c=function(e){var t=e.as,n=e.children,i=e.controlRef,c=e.disabled,s=e.innerRef,u=e.role,l=(e.pseudo,e.view,(0,r.__rest)(e,["as","children","controlRef","disabled","innerRef","role","pseudo","view"])),d=t||(l.href?"a":"span"),f=l.rel;return"_blank"===l.target&&void 0!==f&&-1===f.indexOf("noopener")&&(f+=" noopener"),(0,o.createElement)(d,Object.assign(l,{"aria-disabled":c,className:a(null,[l.className]),ref:s||i,rel:f,role:u,tabIndex:c?-1:l.tabIndex}),n)};c.displayName=a()},14268:function(e,t,n){"use strict";n.d(t,{e:function(){return r.e},r:function(){return r.r}}),n(21797),n(11330);var r=n(39278)},95611:function(e,t,n){"use strict";n.d(t,{t:function(){return C}});var r,o=n(87363),i=n(23413),a=n(50394);function c(){return"undefined"!=typeof window&&window.navigator&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1)}function s(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e.style[r]);for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r]);return n}function u(e){var t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function l(e){return e===document.body||e===document.documentElement}var d="__scrollLockState$"+Math.random().toString(36).slice(2);function f(e){return e[d]}function v(e){var t,n,o,i=f(e);if(i)i.count++;else{var a=(n=l(t=e)&&window.innerWidth-document.documentElement.clientWidth>0,o=t.scrollHeight>t.clientHeight,n||o||function(e){var t=getComputedStyle(e).overflowY;return/scroll/.test(t)}(t)?function(){if("undefined"==typeof document)return 0;if(void 0===r){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.pointerEvents="none",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;n===o&&(o=t.clientWidth),document.body.removeChild(t),r=n-o}return r}():0);!function(e,t){e[d]=t}(e,{initialStyle:s(e,{paddingRight:parseInt(getComputedStyle(e).getPropertyValue("padding-right"),10)+a+"px",overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}),count:1})}}var p=function(){var e=!1;if(!(0,a.N)())return!1;try{var t=function(){return null},n={get passive(){e=!0}};window.addEventListener("testPassive",t,n),window.removeEventListener("testPassive",t)}catch(e){}return e}()?{passive:!1}:void 0,m={count:0,lastY:0,scrollable:null,scrollX:0,scrollY:0};function h(e){if(1===e.changedTouches.length){if(m.scrollable=function(e){for(;e&&!u(e);)e=e.parentElement;return e||document.documentElement}(e.target),l(m.scrollable))return;m.lastY=e.changedTouches[0].pageY}}function g(e){var t=m.scrollable,n=m.lastY;if(!(e.changedTouches.length>1))if(t&&!l(t)){var r=e.changedTouches[0].pageY,o=t.scrollTop,i=t.scrollHeight-t.clientHeight;(o<=0&&r>n||o>=i&&r<n)&&e.preventDefault(),m.lastY=r}else e.preventDefault()}function y(){m.scrollable&&(m.scrollable=null)}function w(e){return e||document.body}function b(e){if((0,a.N)()){var t=w(e);v(t),c()&&function(e){l(e)&&(m.count++,1===m.count&&(m.scrollX=window.pageXOffset,m.scrollY=window.pageYOffset,document.addEventListener("touchstart",h,p),document.addEventListener("touchmove",g,p),document.addEventListener("touchend",y,p)))}(t)}}function E(e){if((0,a.N)()){var t=w(e);(function(e){var t=f(e);t&&(t.count--,0===t.count&&(s(e,t.initialStyle),delete e[d]))})(t),c()&&function(e){l(e)&&0!==m.count&&(m.count--,0===m.count&&(document.removeEventListener("touchstart",h),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",y),window.scrollTo(m.scrollX,m.scrollY)))}(t)}}function C(e){var t=e.enabled,n=e.containerRef,r=(0,o.useRef)(null),a=(0,o.useRef)(!1);(0,i.L)((function(){var e=n?n.current:null;r.current!==e&&(t&&a.current&&(E(r.current),b(e)),r.current=e)})),(0,i.L)((function(){if(t)return a.current=!0,b(r.current),function(){a.current=!1,E(r.current)}}),[t])}},3604:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(97582);r.__exportStar(n(34331),t),r.__exportStar(n(90713),t)},69008:function(e,t,n){"use strict";n.d(t,{a:function(){return v}});var r=n(97582),o=n(87363),i=n.n(o),a=n(14268),c=n(91410);n(54057);const s=({children:e,passportHost:t,retpath:n,yandexuid:r})=>{const a=(0,o.useMemo)((()=>{const e=new URL("passport",t);return e.searchParams.set("mode","logout"),e.searchParams.set("yu",r),e.searchParams.set("retpath",n),e.href}),[t,n,r]);return i().createElement(c.Link,{className:"a11y-hidden",href:a,tabIndex:-1},e||"Выйти из аккаунта")};n(61270);const u=({counter:e,children:t,innerRef:n,className:r,showPlus:o})=>i().createElement("div",{ref:n,className:["UserID-Badge",r].join(" ")},t,i().createElement("div",{className:"UserID-Badge-Dot"},e,o?"+":""));u.displayName="UserIDBadge",n(44110);const l=(e="https://avatars.mds.yandex.net",t="0/0-0",n)=>`${e}/get-yapic/${t}/${n?"islands-retina-middle":"islands-middle"}`,d=({host:e,avatarId:t,plus:n,child:r,colorScheme:a,className:c,innerRef:s})=>{const[u,d]=(0,o.useState)(!1),f=l(e,t,!1),v=`${f} 1x, ${l(e,t,!0)} 2x`;let p=(0,o.useRef)(null);p=s||p;const m=["UserID-Avatar",c];return n&&m.push("UserID-Avatar_plus"),r&&m.push("UserID-Avatar_child"),"dark"===a&&m.push("UserID-Avatar_colorScheme_dark"),u&&m.push("UserID-Avatar_small"),(0,o.useEffect)((()=>{const e=p.current;if(!window||!r||!e)return;const t=e.getBoundingClientRect().width;d(t<=36)}),[r,p]),i().createElement("div",{className:m.join(" "),ref:p},i().createElement("img",{src:f,className:"UserID-Avatar-Image",srcSet:v}),r&&i().createElement("svg",{className:"UserID-Avatar-ChildStroke",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M165.9 37.9822L166.068 38.0049C166.221 38.0257 166.442 38.0562 166.726 38.0968C167.295 38.1778 168.118 38.2987 169.162 38.4618C171.249 38.7878 174.224 39.283 177.813 39.9651C184.975 41.3261 194.666 43.4461 204.678 46.4778C214.632 49.492 225.211 53.4982 233.986 58.7338C242.568 63.8543 250.611 70.8545 253.512 80.3646C262.231 108.946 272.638 153.705 267.746 188.864C263.821 217.084 243.295 239.946 214.374 255.633C185.337 271.383 152.717 277.077 132.993 274.341C113.268 271.605 83.4377 257.247 59.8001 234.191C36.2561 211.225 22.7482 183.642 26.674 155.422C33.0239 109.778 55.8032 71.8059 70.7041 51.2431C76.2121 43.6422 85.9125 39.8089 95.3615 37.7283C105.121 35.5793 116.278 34.95 126.593 35.003C136.965 35.0564 146.789 35.8036 153.998 36.5322C157.61 36.8972 160.584 37.2595 162.664 37.5319C163.704 37.6681 164.522 37.782 165.085 37.8627C165.367 37.903 165.585 37.9351 165.736 37.9575L165.9 37.9822ZM210.975 249.385C238.745 234.322 257.19 213.071 260.694 187.886C265.355 154.381 255.388 110.913 246.701 82.4364C238.203 54.5778 164.895 45.0216 164.895 45.0216C164.895 45.0216 92.1316 33.8026 76.4727 55.4113C61.8934 75.5303 39.8488 112.394 33.7267 156.401C30.2229 181.586 42.1687 207.053 64.7756 229.104C87.5594 251.328 116.05 264.812 133.973 267.298C151.895 269.784 182.987 264.566 210.975 249.385Z"})))};d.displayName="UserIDAvatar",n(56833);const f=a.r,v=(0,o.forwardRef)((({tld:e="ru",children:t,env:n,plus:a,child:c,colorScheme:l,avatarId:v,passportHost:p,onClick:m,onPointerEnter:h,onFocus:g,onKeyUp:y,className:w,classNameBadge:b,fetchMail:E,retpath:C,yandexuid:S,visible:x,i18n:k},_)=>{const[D,P]=(0,o.useState)(0);(0,o.useEffect)((()=>{E&&fetch(`https://mail.yandex.${e}/api/v2/serp/counters?silent`,{credentials:"include"}).then((e=>e.json())).then((e=>P(e.counters.unread))).catch((e=>{}))}),[e,E]);const R=(e=>{const t=(0,o.useRef)(null);(0,o.useImperativeHandle)(e.ref,(()=>({focus:()=>{var e;null===(e=null==t?void 0:t.current)||void 0===e||e.focus()}})));const n=e.tld||"ru";let r=e.passportHost;if(!r)switch(e.env){default:case"prod":r=`https://passport.yandex.${n}`;break;case"test":r=`https://passport-test.yandex.${n}`;break;case"rc":r=`https://passport-rc.yandex.${n}`}const{onClick:i,onKeyUp:a}=e,c=(0,o.useCallback)((e=>{e.preventDefault(),null==i||i(e)}),[i]),s=(0,o.useCallback)((e=>{if(null==a||a(e),"Space"===e.code){e.preventDefault();const t=new MouseEvent("click",{bubbles:!0,cancelable:!0});e.currentTarget.dispatchEvent(t)}}),[a]);return{retpath:e.retpath||`https//yandex.${e.tld}`,yandexuid:e.yandexuid||"",passportHost:r,onAccountClick:c,onAccountKeyUp:s,accountLinkRef:t}})({ref:_,retpath:C,yandexuid:S,passportHost:p,env:n,tld:e,onClick:m,onKeyUp:y}),{onAccountClick:L,onAccountKeyUp:M,accountLinkRef:T}=R,U=(0,r.__rest)(R,["onAccountClick","onAccountKeyUp","accountLinkRef"]);p=U.passportHost,C=U.retpath,S=U.yandexuid;let I=(null==k?void 0:k("Ваш профиль"))||"Ваш профиль";E&&k&&(I+=". "+k("{count} непрочитанных писем",{count:D}));const N=E&&D>0?Math.min(D,99):void 0,O=Boolean(E&&N&&D>N),H=["UserID-Wrapper",w];return c&&H.push("UserID-Wrapper_child"),i().createElement("div",{className:H.join(" ")},i().createElement(f,{className:"UserID-Account",href:p,role:"button","aria-haspopup":"true","aria-expanded":x,"aria-label":I,onPointerEnter:h,onFocus:g,onClick:L,onKeyUp:M,innerRef:T},i().createElement(u,{className:b,counter:N,showPlus:O},i().createElement(d,{host:"test"===n?"https://avatars.mdst.yandex.net":"https://avatars.mds.yandex.net",avatarId:v,plus:a,child:c,colorScheme:l}))),i().createElement(s,{passportHost:p,retpath:C,yandexuid:S},(null==k?void 0:k("Выйти"))||"Выйти"),t)}))},34331:function(e,t,n){"use strict";n.r(t),n.d(t,{User:function(){return i}});var r=n(45593),o=n(69008);n(54832);const i=(0,r.J)(o.a)},16125:function(e,t,n){"use strict";n.r(t),n.d(t,{User:function(){return i}});var r=n(50682),o=n(69008);n(10143);const i=(0,r.v)(o.a)},16889:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var r=n(87363),o=n.n(r),i=n(81504);n(42607);const a=(0,i.cn)("UserWidget","Dialog"),c=(0,r.forwardRef)(((e,t)=>o().createElement("div",{className:a("Dialog",{visible:e.visible,loading:e.loading,colorScheme:e.colorScheme}),style:{top:e.top,right:e.right},ref:t},e.children)))},90713:function(e,t,n){"use strict";n.r(t),n.d(t,{DesktopDialog:function(){return o.V},withDesktopUserID:function(){return r.J}});var r=n(45593),o=n(16889)},45593:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(21564),o=n(16889);function i(e){return(0,r.l)(e,o.V)}},9610:function(e,t,n){"use strict";n.d(t,{V:function(){return l}});var r=n(87363),o=n.n(r),i=n(27964),a=n(13158),c=n(81504);n(93441);const s=(0,c.cn)("UserWidget","Drawer"),u=(0,i.G)(a.d),l=(0,r.forwardRef)(((e,t)=>o().createElement(u,Object.assign({},e,{innerRef:t,keepMounted:!0,view:"default",className:s({colorScheme:e.colorScheme})}),e.children)))},35757:function(e,t,n){"use strict";n.r(t),n.d(t,{TouchDialog:function(){return o.V},withTouchUserID:function(){return r.v}});var r=n(50682),o=n(9610)},50682:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(21564),o=n(9610);function i(e){return(0,r.l)(e,o.V)}},21564:function(e,t,n){"use strict";n.d(t,{l:function(){return g}});var r=n(87363),o=n.n(r),i=[],a=null,c=null;function s(){return i[i.length-1]}function u(e,t,n){var r,o,i=s();!i||!i.onClose||n&&n!==i.closeStrategy||"click"===t&&(r=i.refs,o=e.target,r.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(o)})))||i.onClose({nativeEvent:e,source:t})}function l(e){var t=e.key;"Escape"!==t&&"Esc"!==t||u(e,"esc")}function d(e){a=e.target,c=s(),u(e,"click","pressdown")}function f(e){var t=a;a=null;var n=c;c=null,e.button>0||n===s()&&t===e.target&&u(e,"click","pressup")}var v=Object.freeze({count:function(){return i.length},addOverlay:function(e){0===i.length&&(document.addEventListener("keyup",l),document.addEventListener("pointerdown",d,!0),document.addEventListener("click",f,!0)),i.push(e)},removeOverlay:function(e){i.splice(i.indexOf(e),1),0===i.length&&(document.removeEventListener("keyup",l),document.removeEventListener("pointerdown",d,!0),document.removeEventListener("click",f,!0))},getTopOverlayOptions:s});var p=n(81504);n(39073);const m=(0,p.cn)("UserWidget","Content"),h=o().forwardRef(((e,t)=>{const{loading:n,onLoad:r,preload:i,height:a,colorScheme:c,src:s}=e;return o().createElement("div",{className:m({loading:n,colorScheme:c})},i&&o().createElement("div",{className:"UserWidget-IframeContainer",style:{height:a}},o().createElement("iframe",{className:"UserWidget-Iframe",ref:t,src:s,height:n?9999:a,onLoad:r})),n&&o().createElement("div",{className:"UserWidget-Spin"}))}));function g(e,t){var n;const i=n=>{const{onOpen:i,onClose:a}=n,[c,s]=(0,r.useState)(!1),u=(0,r.useCallback)((()=>{s(!0),null==i||i()}),[i]),l=(0,r.useCallback)((()=>{s(!1),null==a||a()}),[a]),{avatarProps:d,contentProps:f,dialogProps:p}=function(e){const{tld:t="ru",host:n,lang:o,colorScheme:i="light",theme:a,flag:c,project:s,retpath:u,env:l="prod",passportHost:d,passportCi:f,yandexuid:p,avatarId:m="0/0-0",plus:h=!1,preload:g=!1,visible:y=!1,queryParams:w,rpcHandlers:b,avatarRef:E,dialogRef:C,iframeRef:S,onMenuItemClick:x,onOpen:k,onClose:_,onClick:D,onPointerEnter:P,onKeyUp:R,onFocus:L,onHeightUpdate:M,onThemeChange:T}=e;let U=(0,r.useRef)(null),I=(0,r.useRef)(null),N=(0,r.useRef)(null);U=null!=E?E:U,I=null!=C?C:I,N=null!=S?S:N;const[O,H]=(0,r.useState)(!0),A=(0,r.useMemo)((()=>"undefined"!=typeof window?u||location.href:u),[u]),j=(0,r.useMemo)((()=>{var e;return p||"undefined"==typeof window?p:null===(e=document.cookie.match(/yandexuid=(\d+)/))||void 0===e?void 0:e[1]}),[p]),[B,W]=(0,r.useState)(g),Y=(0,r.useRef)({colorScheme:i,theme:a,retpath:A}),K="https://"+(n||`yandex.${t}`),z=(0,r.useMemo)((()=>{B||Y.current.colorScheme===i&&Y.current.theme===a&&Y.current.retpath===A||(Y.current={colorScheme:i,theme:a,retpath:A});const e=new URL("user-id",K);Y.current.retpath&&e.searchParams.set("retpath",Y.current.retpath),Y.current.colorScheme&&e.searchParams.set("colorScheme",Y.current.colorScheme),Y.current.theme&&e.searchParams.set("theme",Y.current.theme),o&&e.searchParams.set("l10n",o),c&&e.searchParams.set("exp_flags",c),s&&e.searchParams.set("project",s),l&&e.searchParams.set("env",l),d&&e.searchParams.set("passport_host",d),f&&e.searchParams.set("passport_ci",f);for(const t in w)e.searchParams.set(t,w[t]);return e.toString()}),[K,o,c,s,l,d,f,w,i,a,A,B]),[V,$]=(0,r.useState)(),G=(0,r.useCallback)((e=>{var t;(null===(t=I.current)||void 0===t?void 0:t.classList.contains("UserWidget-Dialog"))?$(e):$(Math.min(window.innerHeight,e))}),[$,I]);(0,r.useEffect)((()=>{!B&&g&&W(!0)}),[B,g,W]);const Z=(0,r.useCallback)((()=>{var e;null===(e=U.current)||void 0===e||e.focus(),null==_||_()}),[_]),J=(0,r.useCallback)(((e,t)=>{var n;switch(e.methodCall){case"LOADED":case"HEIGHT_UPDATED":const{height:r}=e.params[0];G(r),null==M||M(r),H(!1);break;case"ITEM_CLICK":const{item:o}=e.params[0];null==x||x(o);break;case"CLOSED":null==Z||Z();break;case"updateTheme":const{theme:i}=e.params[0];null==T||T(i);break;default:if(!(null==b?void 0:b[e.methodCall]))return;Promise.resolve(null===(n=null==b?void 0:b[e.methodCall])||void 0===n?void 0:n.call(b,...e.params)).then(t)}}),[b,M,x,Z,T,G]),{sendMessage:X}=function({loading:e,iframeRef:t,origin:n,rpcHandler:o}){const i=(0,r.useRef)([]),a=(0,r.useCallback)((n=>{var r,o;const a=JSON.stringify(n);e?i.current.push(a):null===(o=null===(r=t.current)||void 0===r?void 0:r.contentWindow)||void 0===o||o.postMessage(a,"*")}),[e,t]),c=(0,r.useCallback)((e=>{if(e.origin!==n)return;let t;try{t=JSON.parse(e.data)}catch(e){return}if(!t.methodCall)return;const r=function(e){switch(e){case"onDataLoad":return"LOADED";case"closeUserID":return"CLOSED";case"updateUserHeight":return"HEIGHT_UPDATED";default:return e}}(t.methodCall);null==o||o(Object.assign(Object.assign({},t),{methodCall:r}),(e=>{var n;a({returnCall:!0,params:[e],resultCallbackIndex:(null===(n=t.resultCallbackIndex)||void 0===n?void 0:n.__callbackId)||-1})}))}),[n,o,a]);return(0,r.useEffect)((()=>(window.addEventListener("message",c),()=>{window.removeEventListener("message",c)})),[c]),(0,r.useEffect)((()=>{t&&!e&&0!==i.current.length&&(i.current.forEach((e=>{var n,r;return null===(r=null===(n=t.current)||void 0===n?void 0:n.contentWindow)||void 0===r?void 0:r.postMessage(e,"*")})),i.current=[])}),[e,t]),{sendMessage:a}}({loading:O,iframeRef:N,origin:K,rpcHandler:J});(0,r.useEffect)((()=>{X({methodCall:"updateRetpath",params:[{retpath:A}]})}),[A,X]),(0,r.useEffect)((()=>{X({methodCall:"updateTheme",params:[{colorScheme:i,theme:a}]})}),[i,X,a]);const F=(0,r.useCallback)((e=>{X({methodCall:"focusFirst",params:[{fromKeyboard:e}]})}),[X]),Q=(0,r.useCallback)((e=>{null==D||D(e),F(!1),null==k||k()}),[D,F,k]),q=(0,r.useCallback)((e=>{null==R||R(e),F(!0)}),[R,F]),ee=(0,r.useCallback)((e=>{B||W(!0),null==L||L(e)}),[L,B]),te=(0,r.useCallback)((e=>{B||W(!0),null==P||P(e)}),[P,B]);return function(e){var t=e.visible,n=e.onClose,o=e.essentialRefs,i=e.unsafe_strategy,a=void 0===i?"pressdown":i,c=(0,r.useRef)({onClose:n,refs:o,closeStrategy:a});c.current.onClose=n,c.current.refs=o,(0,r.useEffect)((function(){if(t){var e=c.current;return v.addOverlay(e),function(){v.removeOverlay(e)}}}),[t])}({visible:y,onClose:Z,essentialRefs:[I]}),{contentProps:{preload:B,loading:O,height:V,colorScheme:i,src:z,ref:N},dialogProps:{visible:y,colorScheme:i,ref:I},avatarProps:{visible:y,retpath:A,yandexuid:j,avatarId:m,plus:h,env:l,ref:U,onClick:Q,onKeyUp:q,onFocus:ee,onPointerEnter:te}}}(Object.assign(Object.assign({},n),{visible:c,onOpen:u,onClose:l}));return o().createElement(e,Object.assign({},n,d),n.children,o().createElement(t,Object.assign({},p,{onClose:l}),o().createElement(h,Object.assign({},f))))};return i.displayName=`'withUserID(${null!==(n=e.displayName)&&void 0!==n?n:e})'`,i}},12991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(97582);r.__exportStar(n(16125),t),r.__exportStar(n(35757),t)},67891:function(e,t){var n,r;n=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}var o="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),i=[],a=!1,c=-1,s=void 0,u=void 0,l=function(e){return i.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},d=function(e){var t=e||window.event;return!!l(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},f=function(){setTimeout((function(){void 0!==u&&(document.body.style.paddingRight=u,u=void 0),void 0!==s&&(document.body.style.overflow=s,s=void 0)}))};e.disableBodyScroll=function(e,r){if(o){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!i.some((function(t){return t.targetElement===e}))){var f={targetElement:e,options:r||{}};i=[].concat(t(i),[f]),e.ontouchstart=function(e){1===e.targetTouches.length&&(c=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,r,o,i;1===t.targetTouches.length&&(r=e,i=(n=t).targetTouches[0].clientY-c,!l(n.target)&&(r&&0===r.scrollTop&&0<i||(o=r)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&i<0?d(n):n.stopPropagation()))},a||(document.addEventListener("touchmove",d,n?{passive:!1}:void 0),a=!0)}}else{p=r,setTimeout((function(){if(void 0===u){var e=!!p&&!0===p.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(u=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===s&&(s=document.body.style.overflow,document.body.style.overflow="hidden")}));var v={targetElement:e,options:r||{}};i=[].concat(t(i),[v])}var p},e.clearAllBodyScrollLocks=function(){o?(i.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),a&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),a=!1),i=[],c=-1):(f(),i=[])},e.enableBodyScroll=function(e){if(o){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,i=i.filter((function(t){return t.targetElement!==e})),a&&0===i.length&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),a=!1)}else(i=i.filter((function(t){return t.targetElement!==e}))).length||f()}},void 0===(r=n.apply(t,[t]))||(e.exports=r)},40027:function(e,t,n){var r=n(75706).has;e.exports=function(e){return r(e),e}},75706:function(e,t,n){var r=n(1702),o=Map.prototype;e.exports={Map:Map,set:r(o.set),get:r(o.get),has:r(o.has),remove:r(o.delete),proto:o}},14995:function(e,t,n){var r=n(1702),o=n(6333),i=n(75706),a=i.Map,c=i.proto,s=r(c.forEach),u=r(c.entries),l=u(new a).next;e.exports=function(e,t,n){return n?o(u(e),(function(e){return t(e[1],e[0])}),l):s(e,t)}},46465:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},69098:function(e,t,n){"use strict";n(77710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(95631))},51532:function(e,t,n){n(69098)},10072:function(e,t,n){"use strict";var r=n(82109),o=n(40027),i=n(75706).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=o(this),n=!0,r=0,a=arguments.length;r<a;r++)e=i(t,arguments[r]),n=n&&e;return!!n}})},23042:function(e,t,n){"use strict";var r=n(82109),o=n(40027),i=n(75706),a=i.get,c=i.has,s=i.set;r({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(e,t){var n,r,i=o(this);return c(i,e)?(n=a(i,e),"update"in t&&(n=t.update(n,e,i),s(i,e,n)),n):(r=t.insert(e,i),s(i,e,r),r)}})},99137:function(e,t,n){"use strict";var r=n(82109),o=n(49974),i=n(40027),a=n(14995);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0);return!1!==a(t,(function(e,r){if(!n(e,r,t))return!1}),!0)}})},71957:function(e,t,n){"use strict";var r=n(82109),o=n(49974),i=n(40027),a=n(75706),c=n(14995),s=a.Map,u=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=new s;return c(t,(function(e,o){n(e,o,t)&&u(r,o,e)})),r}})},103:function(e,t,n){"use strict";var r=n(82109),o=n(49974),i=n(40027),a=n(14995);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=a(t,(function(e,r){if(n(e,r,t))return{key:r}}),!0);return r&&r.key}})},96306:function(e,t,n){"use strict";var r=n(82109),o=n(49974),i=n(40027),a=n(14995);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=a(t,(function(e,r){if(n(e,r,t))return{value:e}}),!0);return r&&r.value}})},74592:function(e,t,n){"use strict";var r=n(82109),o=n(46465),i=n(40027),a=n(14995);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return!0===a(i(this),(function(t){if(o(t,e))return!0}),!0)}})},58276:function(e,t,n){"use strict";var r=n(82109),o=n(40027),i=n(14995);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var t=i(o(this),(function(t,n){if(t===e)return{key:n}}),!0);return t&&t.key}})},35082:function(e,t,n){"use strict";var r=n(82109),o=n(49974),i=n(40027),a=n(75706),c=n(14995),s=a.Map,u=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=new s;return c(t,(function(e,o){u(r,n(e,o,t),e)})),r}})},12813:function(e,t,n){"use strict";var r=n(82109),o=n(49974),i=n(40027),a=n(75706),c=n(14995),s=a.Map,u=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=new s;return c(t,(function(e,o){u(r,o,n(e,o,t))})),r}})},18222:function(e,t,n){"use strict";var r=n(82109),o=n(40027),i=n(20408),a=n(75706).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=o(this),n=arguments.length,r=0;r<n;)i(arguments[r++],(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0});return t}})},38563:function(e,t,n){"use strict";var r=n(82109),o=n(19662),i=n(40027),a=n(14995),c=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=i(this),n=arguments.length<2,r=n?void 0:arguments[1];if(o(e),a(t,(function(o,i){n?(n=!1,r=o):r=e(r,o,i,t)})),n)throw c("Reduce of empty map with no initial value");return r}})},50336:function(e,t,n){"use strict";var r=n(82109),o=n(49974),i=n(40027),a=n(14995);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0);return!0===a(t,(function(e,r){if(n(e,r,t))return!0}),!0)}})},7512:function(e,t,n){"use strict";var r=n(82109),o=n(19662),i=n(40027),a=n(75706),c=TypeError,s=a.get,u=a.has,l=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=i(this),r=arguments.length;o(t);var a=u(n,e);if(!a&&r<3)throw c("Updating absent value");var d=a?s(n,e):o(r>2?arguments[2]:void 0)(e,n);return l(n,e,t(d,e,n)),n}})},36808:function(e,t,n){var r,o,i;i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*i.expires),i.expires=c}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u]));return document.cookie=t+"="+o+s}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var v=l[f].split("="),p=v.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var m=v[0].replace(d,decodeURIComponent);if(p=n.read?n.read(p,m):n(p,m)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===m){a=p;break}t||(a[m]=p)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))},void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()},53229:function(e,t,n){"use strict";function r(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n.d(t,{Z:function(){return r}})},84506:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(83878),o=n(59199),i=n(40181),a=n(25267);function c(e){return(0,r.Z)(e)||(0,o.Z)(e)||(0,i.Z)(e)||(0,a.Z)()}}}]);